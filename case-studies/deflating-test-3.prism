// Simple game based on MDP in svi paper

smg


global state: [0..7] init 5;


player P1 player1, [a1], [b1], [c1], [d1], [e1], [f1], [g1] endplayer
player P2 player2, [a2], [b2], [c2] endplayer


module player1 // maximizer
	[a1] state=1 -> (state'=4);
	[b1] state=1 -> (state'=5);
	[c1] state=3 -> (state'=2);
	[d1] state=3 -> 3/10 : (state'=6) + 7/10 : (state'=7);
	[e1] state=4 -> (state'=1);
	[f1] state=4 -> 8/10 : (state'=6) + 2/10 : (state'=7);
	[g1] state=5 -> 5/10 : (state'=1) + 5/10 : (state'=2);
	[] state=6 -> (state'=6);
endmodule

module player2 // minimizer
	[a2] state=0 -> 1/2 : (state'=1) + 1/2 : (state'=2);
	[b2] state=2 -> (state'=3);
	[c2] state=2 -> (state'=4);
	[] state=7 -> (state'=7);
endmodule

//Labels
formula done = state=6 | state=7;
label "done" = done;
label "p1win" = done & state=6;
label "p2win" = done & state=7;
